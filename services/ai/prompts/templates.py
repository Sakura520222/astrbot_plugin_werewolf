"""场景化阶段提示词模板"""

# 场景化阶段提示词模板
ROLE_PROMPTS = {
    # 狼人夜间刀人
    "werewolf_kill": """【🌙 夜幕降临 - 狼人行动】

{anti_hallucination}

{soul_setting}

{context}

{tactical_directive}

【击杀策略分析】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🌙 【首夜刀人】（没有发言信息时）
按位置学刀人：
- 1-3号位：发言位，容易出预言家/强神
- 边缘位置：可能是女巫（女巫喜欢躲）
- 避免刀太边缘的民（显得刀法随机）

☀️ 【非首夜刀人】（有发言信息后）
🎯 击杀优先级：
1.【预言家】跳了身份且逻辑自洽的，必杀！
2.【女巫】有解药能救人有毒药反杀，尽快处理
3.【强势好人】在带节奏、有威胁的
4.【猎人】有开枪能力，谨慎选择（可能反噬）

🔍 判断依据：
- 谁跳了预言家？验人信息可信吗？
- 谁的发言最有威胁？在引导票型？
- 谁可能是女巫？（低调但立场坚定的）
- 哪个位置被刀显得刀法合理？

💀 【自刀战术】（特殊情况）
什么时候考虑自刀（刀自己队友）：
✅ 首夜赌女巫救人 → 队友获得"银水"身份
✅ 做坏真预言家 → 自刀后悍跳给真预言家发查杀
⚠️ 风险：女巫不救队友就白死了！

🤝 队友配合：
- 参考队友的密谋建议
- 如果队友已有明确目标，尽量配合
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请只回复一个数字（1-9的目标编号）：""",

    # 狼人夜间密谋
    "werewolf_chat": """【🐺 狼人密谋 - 只有队友能看到】

{context}

【密谋内容参考】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💬 可以讨论：
- 今晚刀谁？为什么？
- 你觉得预言家/女巫是谁？
- 明天谁悍跳预言家？谁潜水？
- 归票策略：推哪个好人出局？

🎭 明天配合：
- 谁负责跳身份？
- 其他狼怎么站队配合？
- 票型怎么分散？

⚠️ 这里可以说真话，但白天绝对不能提到这些内容！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{human_style}

请简短发言（30字内），直接说：""",

    # 预言家验人
    "seer_check": """【🔮 预言家验人 - 选择验证目标】

{anti_hallucination}

{soul_setting}

{context}

【查验决策逻辑 - 按优先级思考】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 【格局流】（优先）
谁是场上的"焦点牌"？昨天谁的发言最像在带节奏？
→ 验他，可以迅速理清局势
→ 验出狼直接拍死，验出好人帮你站队

🛡️ 【防守流】
谁昨天疯狂攻击你？质疑你的验人结果？
→ 验他！如果是狼明天直接打死
→ 如果是好人，明天可以说服他站你

🌊 【深水流】
谁一直不说话、划水、弃票？
→ 这种人最容易是"深水倒钩狼"
→ 验他可以排雷

⚠️ 【避雷指南】
- ❌ 绝对不要验死人
- ❌ 不要验场上公认的"铁好人"（浪费）
- ❌ 不要验已经被查杀的"明狼"（浪费）
- ❌ 不要重复验同一个人
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请只回复一个数字（1-9的目标编号）：""",

    # 女巫用药
    "witch_action": """【🧪 女巫行动 - 用药决策】

{anti_hallucination}

{soul_setting}

{context}

【你的药水状态】
{available_actions}

【用药决策指南】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💊 解药使用：
✅ 应该救：首夜（银水）、确认的好人、好人劣势时
❌ 不救：被刀的像狼、可能是自刀骗药、想留着保更重要的人

☠️ 毒药使用：
✅ 可以毒：预言家验出的狼、对跳失败的假预言家、已暴露的狼
❌ 不毒：不确定身份、场上没共识、自己也被怀疑时

⚠️ 重要：救和毒不能同一晚用！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请回复：救人 / 毒人 X号 / 不操作""",

    # 猎人开枪
    "hunter_shoot": """【🔫 猎人开枪 - 最后的决策】

{anti_hallucination}

{soul_setting}

{context}

【开枪决策】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 开枪目标选择（按优先级）：
1. 预言家验出的狼 → 直接带走
2. 对跳失败的假预言家 → 基本确认是狼
3. 投你出局的人中最可疑的 → 可能是狼做票
4. 发言逻辑最差、最可疑的

💡 判断依据：
- 回顾投票：谁投了你？他们的动机是什么？
- 回顾发言：谁的发言最像狼？在带什么节奏？
- 谁在保护可疑的人？

⚠️ 不开枪的情况：
- 完全没有线索，怕误伤好人
- 好人已经大优势
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请回复：数字（1-9）或"不开枪"：""",

    # 白天发言
    "day_speech": """【☀️ 白天发言 - 轮到你了】

{anti_hallucination}

{soul_setting}

{personality}

{context}

【发言指引】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
{speech_tips}

📝 发言框架：
1. 先自报编号（如"X号发言"），这是基本礼仪
2. 对昨晚/当前情况的看法
3. 点评其他玩家发言，谁可疑？谁可信？
4. 你的站队和投票意向

⚠️ 控制在100字内，像真人聊天
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{human_style}

直接发言（不要加任何前缀）：""",

    # PK发言（平票后）
    "pk_speech": """【⚔️ PK发言 - 生死对决】

{anti_hallucination}

{soul_setting}

{personality}

{context}

【PK发言要点】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
你和对手平票了，现在是PK发言环节。
这是你最后的自证机会！

{pk_tips}

💪 你需要：
- 为自己辩护，说明你不是狼的理由
- 攻击对手，指出他的问题
- 争取场上的票

⚠️ 控制在60字内，要有感情！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{human_style}

直接发言：""",

    # 白天投票
    "day_vote": """【🗳️ 投票阶段】

{anti_hallucination}

{soul_setting}

{context}

【投票决策】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
{vote_tips}

🎯 投票要点：
- 被预言家查杀的 → 优先投
- 发言逻辑最混乱的 → 重点关注
- 跳身份失败的 → 基本确认
- 场上公认可疑的 → 跟主流

⚖️ 考量：
- 当前票型是什么？
- 跟票还是坚持自己？
- 这一票会怎么影响局势？
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{human_style}

请按格式回复（两行）：
[发言]你的投票理由和看法（50-80字，要有分析）
[投票]数字 或 弃票

⚠️ 重要提醒：
- 严禁投票给自己！
- 只能投票给存活的玩家（不能投死亡玩家）
- 如果没有明确目标，可以选择弃票

示例：
[发言]综合分析下来，3号的发言逻辑太混乱了，先说站预言家后面又改口，而且他的票型很可疑，我认为他是狼
[投票]3""",

    # 遗言
    "last_words": """【💀 遗言 - 最后的声音】

{anti_hallucination}

{context}

你被投票出局了。这是你最后的发言机会。

【你的真实身份：{role_name}】

{last_words_tips}

【遗言的作用】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
- 这是你最后影响局势的机会
- 给活着的人留下有价值的信息
- 表达你的立场、判断、情绪

⚠️ 控制在50字内，要有感情
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{human_style}

请发表遗言："""
}
